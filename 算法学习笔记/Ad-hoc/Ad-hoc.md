# Ad-hoc题单

## [P11190 「KDOI-10」反回文串](https://www.luogu.com.cn/problem/P11190)

找特殊情况：

特判全等。

若n为偶数，且没有一个字符出现次数超过$\frac{n}{2}$，显然可以两两配对，构造方案排序$(i,i+\frac{n}{2})$。$\to$ 奇数，那么一定存在第三种颜色。因此我们从两端先随意选走一个，接下来一定有另外两种颜色的配对。因此可以选择$(1,n-\frac{n}{2},n)$。

否则会有一个数特别多，设为$a$有$m$个，这时对$a$分组，注意到一定会消耗一个除$a$外的其他字母，于是我们寻找有没有一种分配方案能达到$n-m$，若$n$为偶数显然可以，否则我们需要先将$2m+1-n$，和其中一个配对，考虑什么时候无解找到非a的位置，除非所有这个位置都满足

$2m+1-n=m$，且$pre[pos]=\frac{2m+1-n}{2}$。即形如$a...aba...a$，而这种情况是无解的，否则用前$2m+1-n$个或后$2m+1-n$个即可。

##  [P11145 「SFMOI Round I」Strange Homura Game](https://www.luogu.com.cn/problem/P11145)

问小于m的数得到的信息比较少，所以肯定是问一个大数。

这样可以的得到一个m的倍数，注意到$km-1\equiv m-1 \mod m$，再问一次$km-1$即可。

## [P11132 【MX-X5-T4】「GFOI Round 1」epitaxy](https://www.luogu.com.cn/problem/P11132)

注意到，如果$n-m+1 \le m$，那么最大值一定是$n$。

进一步，注意到答案一定是$n$的因数。枚举因数$x$，看能否覆盖排列。有$k=\frac{n}{x}$个黑点，可以在里面插入若干白点，
注意到$x\le m$显然可以。
$$
x ,1\sim x-1,2x,x+1,2x-1...
$$
若$x>m$，这里有限制最多放
$$
\left(\frac{n}{x} \right)(m-1) <n-\frac{n}{x} 
$$
显然无解。



## [P11036 【MX-X3-T3】「RiOI-4」GCD 与 LCM 问题](https://www.luogu.com.cn/problem/P11036)

若$b=1$，那么需要满足$a+c+d=\text{lcm}(c,d)$，若$c=2$，那么$a+2+d=\text{lcm}(2,d)$

发现若$a$为奇数，那么$d=a+2$即可。

否则，考虑提出一个2。。。最坏的情况$a=2^{29}$，那么$d=3*2^{29}$，不会超过范围。

## [P11022 「LAOI-6」Yet Another Graph Coloration Problem](https://www.luogu.com.cn/problem/P11022)

若$u,v$之间存在一个环，显然有解，如果没有环一定没有解。找到这个环，交替染色即可。

## [P10678 『STA - R6』月](https://www.luogu.com.cn/problem/P10678)

通过最小树的深度来最小化树的直径 。最小化深度就要最大化每层的节点数，假设最大深度为$d$，这时我们要尽可能构造出$2d-1$这个解。可以证明这样构造同样满足。

## [P9915 「RiOI-03」3-2](https://www.luogu.com.cn/problem/P9915)

神秘构造题。打表发现每个联通块大小都为$2^y -1 $，并且每个连通块一定会连接到第0列。竖着每一列都是$2^j$个0/1交替出现。每个连通块都是$2^0+2^1+\cdots$，一个显然的做法就是找到最右边的一个和该位置相同的数。

注意到$x\le 10^{18}$，那么大于$60$列后面一定全是0。

或者旋转后当成二叉树。
